<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Your shortened URLs generated by Bulk URL Shortener." />
    <meta name="keywords" content="URL shortener, bulk URL shortening, short links, free url shortener" />
    <title>Shortened URLs | Bulk URL Shortener</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
    <header class="header">
        <h1>Your Shortened URLs</h1>
        <p class="subtitle">Copy or use your shortened URLs below</p>
    </header>
    <main>
        <table class="results-table" aria-describedby="results-desc">
            <caption id="results-desc">List of original URLs and their shortened versions with click statistics</caption>
            <thead>
                <tr>
                    <th scope="col">Original URL</th>
                    <th scope="col">Short URL</th>
                </tr>
            </thead>
            <tbody>
                {% for r in results %}
                <tr>
                    <td class="original-url"><a href="{{ r.original }}" target="_blank" rel="noopener noreferrer">{{ r.original }}</a></td>
                    <td class="short-url">
                        <input type="text" readonly value="{{ r.short }}" id="short-url-{{ loop.index }}" aria-label="Shortened URL {{ loop.index }}" />
                        <button onclick="copyToClipboard('short-url-{{ loop.index }}')" aria-label="Copy shortened URL {{ loop.index }}" class="btn-copy">Copy</button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <div class="actions">
            <a href="{{ url_for('index') }}" class="btn-secondary">Shorten More URLs</a>
        </div>
    </main>
    <footer class="footer">
        <p>Â© {{ current_year }} Bulk URL Shortener. Built with Flask.</p>
    </footer>

    <script>
        function copyToClipboard(elementId) {
            var copyText = document.getElementById(elementId);
            copyText.select();
            copyText.setSelectionRange(0, 99999); // For mobile devices
            document.execCommand("copy");
            alert("Copied: " + copyText.value);
        }
    </script>
</body>
</html>
